function tab_select(c,e,d){var b=get_child_nodes(c);var f=get_child_nodes(e);for(var a=0;a<b.length;a++){if(d=="click"){void function(){var g=a;b[a].onclick=function(){var k=get_child_nodes(this.parentNode);for(var i=0;i<k.length;i++){g==i?add_cls(k[i],"current"):rm_cls(k[i],"current")}for(var h=0;h<f.length;h++){g==h?add_cls(f[h],"current"):rm_cls(f[h],"current")}}}()}else{void function(){var g=a;b[a].onmouseover=function(){var k=get_child_nodes(this.parentNode);for(var i=0;i<k.length;i++){g==i?add_cls(k[i],"current"):rm_cls(k[i],"current")}for(var h=0;h<f.length;h++){g==h?add_cls(f[h],"current"):rm_cls(f[h],"current")}}}()}}}function get_child_nodes(c){var c=typeof(c)=="string"?document.getElementById(c):c;var a=[];for(var b=0;b<c.childNodes.length;b++){if(c.childNodes[b].nodeName!="#text"&&c.childNodes[b].nodeName!="#comment"){a.push(c.childNodes[b])}}return a}function add_cls(c,b){var a=" "+c.className+" ";if(!(a.indexOf(b)>=0)){c.className+=" "+b}}function rm_cls(b,a){if(b.className){b.className=b.className.replace(new RegExp("\\b"+a+"\\b\\s*","g"),"")}}function has_cls(c,a){var b=" "+a+" ";var d=" "+c.className+" ";return d.indexOf(b)>=0}function zoom_img(e,a,c){if(!c||!a){return false}var e=typeof(e)=="string"?document.getElementById(e):e;var b=a/e.offsetWidth;var d=c/e.offsetHeight;if(b>d){e.style.height=d*e.offsetHeight+"px"}else{e.style.width=b*e.offsetWidth+"px"}return true}function create_cookie(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString()}else{var a=""}document.cookie=c+"="+d+a+"; path=/"}function read_cookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return null}function erase_cookie(a){createCookie(a,"",-1)}function Ajax(config){this.author="sasumi";this.version="2009-07-28 build2.2";var xml_engine=null,handlers=[];var url,method,result_format,syn,charset;var init=function(){url=config.url||"";method=config.method||"GET";result_format=config.result_format||"text";syn=config.syn?config.syn:true;charset=config.charset?config.charset:"utf-8";if(window.XMLHttpRequest){xml_engine=new XMLHttpRequest();xml_engine.overrideMimeType&&xml_engine.overrideMimeType("text/xml")}else{if(window.ActiveXObject){xml_engine=new ActiveXObject("Msxml2.XMLHTTP")||new ActiveXObject("Microsoft.XMLHTTP")}else{alert("YOUR BROWSER IS NOT SUPPORT FOR AJAX, PLEASE UPGRADE YOUR BROWSER FIRST")}}xml_engine.onreadystatechange=callback};var callEvent=function(ev,param){for(var i=0;i<handlers.length;i++){if(handlers[i].event==ev&&handlers[i].func){handlers[i].func(param)}}};var callback=function(){if(xml_engine.readyState==4){if(xml_engine.status==200){var result=null;if(result_format=="json"){if(xml_engine.responseText.length>1){}eval("result = "+xml_engine.responseText)}else{if(result_format=="xml"){result=xml_engine.responseXML}else{if(result_format=="msg"){var msg={};var pattern=/id="msg_content".*?value="(.*?)".*?\/\>/;msg.content=pattern.exec(xml_engine.responseText)[1];pattern=/id="msg_flag".*?value="(.*?)".*?\/\>/;msg.flag=pattern.exec(xml_engine.responseText)[1];pattern=/id="msg_url".*?value="(.*?)".*?\/\>/;msg.url=pattern.exec(xml_engine.responseText)[1];pattern=/id="msg_expired".*?value="(.*?)".*?\/\>/;msg.expired=pattern.exec(xml_engine.responseText)[1];pattern=/id="msg_ext".*?value="(.*?)".*?\/\>/;msg.ext=pattern.exec(xml_engine.responseText)[1];result=msg}else{result=xml_engine.responseText}}}callEvent("RESULT",result);xml_engine=null}else{callEvent("FAULT")}}else{callEvent("INIT",xml_engine.readyState);if(xml_engine.readyState==0){callEvent("READY")}else{callEvent("LOADING")}}};this.send=function(param){xml_engine.open(method,url,true);if(result_format=="xml"){xml_engine.setRequestHeader("Content-Type","text/xml;")}else{xml_engine.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset="+charset)}method=="GET"&&(param=null);xml_engine.send(param)};this.addEventListener=function(ev,handler){for(var i=handlers.length;i>=0;i--){if(handlers[i]&&handlers[i].event&&handlers[i].event==ev&&handlers[i].func==handler){return false}}handlers.push({event:ev,func:handler})};init()}function add_bookmark(b,a){if(window.sidebar){window.sidebar.addPanel(b,a,"")}else{if(document.all){window.external.AddFavorite(a,b)}else{if(window.opera&&window.print){return true}}}}function set_home(c,d){try{c.style.behavior="url(#default#homepage)";c.setHomePage(d)}catch(b){if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(b){alert("此操作被浏览器拒绝！\n请在浏览器地址栏输入“about:config”并回车\n然后将[signed.applets.codebase_principal_support]设置为’true’")}var a=Components.classes["@mozilla.org/preferences-service;1"].getService(Components.interfaces.nsIPrefBranch);a.setCharPref("browser.startup.homepage",d)}}}function collect_game(c){var c=typeof(c)=="string"?document.getElementById(c):c;c.onclick=function(){return false};var b=function(d){if(!d){return false}if(d.flag==1){c.innerHTML=d.content;c.style.color="gray"}else{alert(d.content);if(d.url){location.href=d.url}}};var a=new Ajax({url:c.getAttribute("HREF"),result_format:"msg"});a.addEventListener("INIT",function(){c.innerHTML="收藏中..."});a.addEventListener("RESULT",b);a.send();return false}function prize_up(c){c.onclick=function(){return false};var a=function(e){if(e.flag==1){c.innerHTML="<em>"+(e.ext)+"</em>"+e.content;c.style.color="gray"}else{c.innerHTML="<em>"+c.getElementsByTagName("EM")[0].innerHTML+"</em>"+e.content;c.title=e.content;c.style.color="red";if(obj.msg_url){location.href=e.url}}};var d=function(){var e=parseInt(c.getElementsByTagName("EM")[0].innerHTML,10);c.innerHTML="<em>"+e+"</em>正提交"};var b=new Ajax({url:c.getAttribute("HREF"),result_format:"msg",charset:"gbk"});b.addEventListener("INIT",d);b.addEventListener("RESULT",a);b.send();return false}function get_position(b){var a=new Array();a.x=b.offsetLeft;a.y=b.offsetTop;while(b=b.offsetParent){a.x+=b.offsetLeft;a.y+=b.offsetTop}return a}function game_level_effect(){var c=document.getElementsByTagName("SPAN");star_spans=[];for(var b=c.length-1;b>=0;b--){if(c[b].className.indexOf("star_comment")>=0){star_spans.push(c[b])}}for(var b=star_spans.length-1;b>=0;b--){var a=star_spans[b].className;void function(){var e=a;var d=star_spans[b].getElementsByTagName("A");for(var f=0;f<d.length;f++){void function(){var g=f;d[f].onmouseover=function(){this.parentNode.parentNode.className="star_comment star_"+(g+1)};d[f].onmouseout=function(){this.parentNode.parentNode.className=e};d[f].onclick=function(){}}()}}()}}function sel_all(b){if(!b){b=document}b=typeof(b)=="string"?document.getElementById(b):b;var a=b.getElementsByTagName("INPUT");var e=[];for(var c=0;c<a.length;c++){if(a[c].type=="checkbox"){e.push(a[c])}}var d=false;for(var c=0;c<e.length;c++){if(c==0){d=e[c].checked}if(d){e[c].checked=false}else{e[c].checked=true}}}function select_skin(g){var g=typeof(g)=="string"?document.getElementById(g):g;g.parentNode.style.position="relative";var b=g.offsetWidth;var f=g.offsetHeight;var e=document.createElement("SPAN");e.style.cssText="border:none; position:relative; display:block; width:"+b+"px;height:"+f+"px";g.parentNode.insertBefore(e,g.nextSibling);g.style.display="none";var c=document.createElement("DL");c.className="select_skin_dl";c.width=b+"px;";c.style.cssText="width:"+b+"px";for(var d=0;d<g.options.length;d++){var a=document.createElement("DD");a.innerHTML=g.options[d].text;void function(){var h=d;a.onclick=function(){var i=this.parentNode.getElementsByTagName("DD");g.selectedIndex=h;c.onmouseout();if(g.onchange){g.onchange()}}}();c.appendChild(a)}c.onmouseover=function(){this.style.height="auto";var h=this.getElementsByTagName("DD");for(var j=0;j<h.length;j++){if(j==g.selectedIndex){h[j].className="selected"}else{h[j].className=""}h[j].style.display="block"}};c.onmouseout=function(){this.style.height="20px";var h=this.getElementsByTagName("DD");for(var j=0;j<h.length;j++){if(g.selectedIndex==j){h[j].style.display="block";h[j].className="selected"}else{h[j].className="";h[j].style.display="none"}}};e.appendChild(c);c.onmouseout()};